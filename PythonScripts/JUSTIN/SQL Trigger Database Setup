create table seg_list (id integer not null primary key AUTOINCREMENT , tag varchar(30) not null, name varchar(30) not null, seg_type varchar(30) not null,
  check(seg_type = 'GRP' or(seg_type = 'IND')));

CREATE TRIGGER insert_into_ind_seg after insert on seg_list
  when new.seg_type = 'IND'
BEGIN
  insert into ind_seg values(new.id,new.tag,new.name);
END;

CREATE TRIGGER insert_into_grp_seg after insert on seg_list
  when new.seg_type = 'GRP'
BEGIN
  insert into grp_seg values(new.id,new.tag,new.name);
END;

CREATE TRIGGER update_seg_list_ind after update on seg_list
  when new.seg_type = 'IND'
BEGIN
  update ind_seg set tag = new.tag, name = new.name where ind_id = new.id;
END;

CREATE TRIGGER update_seg_list_grp after update on seg_list
  when new.seg_type = 'IND'
BEGIN
  update grp_seg set tag = new.tag, name = new.name where grp_id = new.id;
END;

CREATE TRIGGER delete_seg_list after delete on seg_list
BEGIN
  delete from ind_seg where ind_id = old.id;
  delete from grp_seg where grp_id = old.id;
END;

create table ind_seg (ind_id integer primary key,tag varchar(30) not null,
  name varchar(30) not null, FOREIGN KEY (ind_id) REFERENCES seg_list(id));

create table grp_seg (grp_id integer primary key,tag varchar(30) not null,
  name varchar(30) not null, FOREIGN KEY (grp_id) REFERENCES  seg_list(id));

insert into seg_list (tag,name,seg_type) values('RCK','RACK','IND');
insert into seg_list (tag,name,seg_type) values('CORPO','CORPORATE','IND');
insert into seg_list (tag,name,seg_type) values('CORPO','CORPORATE OTHERS','IND');
insert into seg_list (tag,name,seg_type) values('PKG/PRM','PACKAGES/PROMO','IND');
insert into seg_list (tag,name,seg_type) values('WSOL','WHOLESALE ONLINE','IND');
insert into seg_list (tag,name,seg_type) values('WSOF','WHOLESALE OFFLINE','IND');
insert into seg_list (tag,name,seg_type) values('INDO','INDIVIDUAL OTHERS','IND');
insert into seg_list (tag,name,seg_type) values('INDR','INDUSTRY RATE','IND');

insert into seg_list (tag,name,seg_type) values('CORPM','CORPORATE MEETINGS','GRP');
insert into seg_list (tag,name,seg_type) values('CON/ASSOC','CONVENTION/ASSOCIATION','GRP');
insert into seg_list (tag,name,seg_type) values('GOV/NGO','GOVERNMENT/NGO','GRP');
insert into seg_list (tag,name,seg_type) values('GRPT','GROUP TOURS','GRP');
insert into seg_list (tag,name,seg_type) values('GRPO','GROUP OTHERS','GRP');


drop table ind_seg;
drop table grp_seg;
drop table seg_list;

select * from seg_list order by id;
select * from ind_seg order by ind_id;
select * from grp_seg order by grp_id;

delete from seg_list where id=1;
delete from seg_list where id=13;
DROP TRIGGER delete_seg_list;